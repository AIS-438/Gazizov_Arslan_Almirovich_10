# Навигация

* [Введение](#введение)
* [Теоретические основы](#1-теоретические-основы)

  * [Ключевые понятия](#11-ключевые-понятия)
  * [Принцип работы HTTPS](#12-принцип-работы-https)
  * [Типы SSL-сертификатов](#13-типы-ssl-сертификатов)
* [Процесс настройки HTTPS и SSL-сертификата](#2-процесс-настройки-https-и-ssl-сертификата)

  * [Выбор и получение сертификата](#21-выбор-и-получение-сертификата)
  * [Установка сертификата на веб-сервер](#22-установка-сертификата-на-веб-сервер)

    * [Установка на Linux-сервере Nginx с использованием сертификата от Let's Encrypt](#221-установка-на-linux-сервере-nginx-с-использованием-сертификата-от-lets-encrypt)
    * [Установка на Windows-сервере IIS](#222-установка-на-windows-сервере-iis)
  * [Настройка принудительного перенаправления с HTTP на HTTPS](#23-настройка-принудительного-перенаправления-с-http-на-https)

    * [Настройка веб-приложения на Linux](#231-настройка-веб-приложения-на-winux)
    * [Настройка веб-приложения на Windows](#232-настройка-веб-приложения-на-windows)
* [Дополнительные меры обеспечения безопасности и достижения оптимизации](#3-дополнительные-меры-обеспечения-безопасности-и-достижения-оптимизации)
* [Особенности настройки](#4-особенности-настройки)
* [Заключение](#заключение)
* [Список литературы](#список-литературы)

---

# Введение

Безопасность передачи данных является критически важным аспектом функционирования любого веб-приложения, обеспечение которой важно при развертывании серверной части системы, предусмотренного в лабораторной работе №5, так как она является не только гарантом защиты от несанкционированных действий, но и гарантом доверия пользователей к продукту. 

Протокол HTTP, который долгое время являлся стандартом для реализации обмена данными, передает информацию в открытом виде, что уязвляет информацию для перехвата, подмены с помощью MITM-атаки или кражи с целью использования в неблагоприятных целях. Решением таких проблем безопасности стало расширение протокола в HTTPS, основывающийся на SSL/TLS-сертификатах, которые обеспечивают шифрование данных, подтверждение подлинности сайта и целостность передаваемой информации. 

Целью данного реферата является комплексное рассмотрение принципов работы HTTPS и типов SSL-сертификатов с подробной пошаговой методикой их настройки на различных платформах, анализом особенностей использования и проблем, что могут повлиять на безопасность и производительность веб-приложения.


---

# 1. Теоретические основы

## 1.1 Ключевые понятия

* **HTTPS (HyperText Transfer Protocol Secure)** – это результат наложения криптографических протоколов SSL или его современного преемника TLS на стандартный HTTP (HyperText Transfer Protocol), которые обеспечили улучшение безопасности передачи данных путем шифрования трафика. Он работает на транспортном уровне модели OSI.
* **SSL-сертификат (Secure Sockets Layer)** – это цифровой документ, который удостоверяет подлинность сайта и содержит публичный ключ для шифрования данных. Он использует комбинацию симметричного (шифрование передаваемых данных) и асимметричного (установка соединения и аутентификация) шифрования, а также необходим браузеру, чтобы он мог проверить подлинность сайта и установить защищённое соединение. Без SSL-сертификата данные передаются в открытом виде, что делает их уязвимыми для перехвата.
* **Центр Сертификации (Certificate Authority, CA)** – это доверенная организация, которая выпускает, подписывает и управляет сертификатами.
* **Самоподписанный сертификат (Self-Signed)** – это сертификат, выпущенный и подписанный самим владельцем сервера, а не доверенным CA. Он не подходит для публичных сайтов, так как браузеры не признают его и считают сервер небезопасным. Такой сертификат обычно используется в тестовых средах, локальных сетях или во внутренних службах.
* **SAN (Subject Alternative Name)** – это расширение сертификата с перечислением всех поддоменов, на которые он действителен. 
* **CSR (Certificate Signing Request)** – это блок закодированного текста, который организация или частное лицо отправляет в центр сертификации CA при подаче заявки на получение SSL-сертификата.

## 1.2 Принцип работы HTTPS

Принцип работы протокола HTTPS состоит из следующих шагов:

1. **«Рукопожатие» (Handshake)**. При обращении клиента к серверу по HTTPS сервер отправляет клиенту свой SSL-сертификат.
2. **Проверка сертификата**. Браузер клиента проверяет подлинность сертификата: его срок действия, выпустивший Центр Сертификации, соответствие доменному имени и т.д. Также проверяется цепочка доверия до корневого сертификата, предустановленного в ОС или браузере.
3. **Шифрование**. После успешной проверки между клиентом и сервером устанавливается защищенное соединение с использованием симметричного ключа, сгенерированного браузером и зашифрованного публичным ключом из сертификата. С его помощью шифруются все последующие передаваемые данные, например логины, пароли, платежная информация, персональные данные.

## 1.3 Типы SSL-сертификатов

Выбор сертификата зависит от уровня требуемой к продукту безопасности и масштаба проекта:

1. По уровню проверки сертификаты подразделяются на:
* **DV (Domain Validation)** – сертификат подтверждает только право владения доменом. Выпускается быстро и подходит для различных блогов, личных сайтов, стартапов.
* **OV (Organization Validation)** – выпуск сертификата требует проверки организации-владельца, и в информации о сертификате будут указаны данные компании. Такой подходит для корпоративных сайтов, государственных учреждений и интернет-магазинов среднего уровня.
* **EV (Extended Validation)** – это сертификат, для выпуска которого происходит наиболее строгая проверка юридического лица. В браузере адресная строка подсвечивается зеленым и отображается название компании. Подобный сертификат используется банками, крупными интернет-магазинами, финансовыми организациями.

2. По охвату доменов:
* **Однодоменный сертификат (Single Domain)** – он используется для одного доменного имени (например, example.com).
* **Wildcard-сертификат** – защищает один домен и все его поддомены одного уровня (например, web.example.com и site.example.com).
* **Мультидоменный сертификат** – он защищает несколько совершенно разных доменных имен одним сертификатом, что удобно для продуктов с несколькими брендами или разными доменами (например, site.com, site.ru, app.site.com).

---

# 2. Процесс настройки HTTPS и SSL-сертификата

## 2.1 Выбор и получение сертификата

Первым делом необходимо выбрать и получить сам сертификат для его использования. 

Платные сертификаты приобретаются у коммерческих CA или их партнеров, хостинг-провайдеров. Процесс получения сертификата проходит следующие этапы:

1. Генерация CSR и приватного ключа на сервере.
2. Отправка CSR в CA и прохождение верификации (для получения OV/EV-сертификатов необходимо предоставить документы, подтверждающие частное лицо).
3. Получение файлов сертификата (обычно в формате .crt или .pem, в нашем примере будет использоваться .pem) в случае одобрения заявки.

Бесплатные сертификаты можно получить с использованием различных сервисов, но обычно таким способом можно получить сертификаты только уровня DV. Наиболее популярным источником бесплатных сертификатов является Let's Encrypt, а для автоматизированного управления сертификатом от этого сервиса используется клиент Certbot. 

Let’s Encrypt использует ACME-протокол для автоматической проверки владения доменом через размещение специального файла на веб-сервере или через DNS-запись.

Также для работы с сертификатом можно использовать панели управления хостингом, такие как cPanel, Plesk.

Самоподписанные же сертификаты генерируются утилитами типа OpenSSL и используются только для внутренних целей, так как считаются браузерами недостоверными.

## 2.2 Установка сертификата на веб-сервер

### 2.2.1 Установка на Linux-сервере Nginx с использованием сертификата от Let's Encrypt

Установка проводится на примере операционной системы Linux с использованием бесплатного сертификата от Let’s Encrypt и происходит так:

1.	**Подготовка**: необходимо убедиться, что домен привязан к IP-адресу сервера и порт 80 для верификации открыт.
2.	**Установка Certbot**: для установки на Nginx в терминале нужно написать:

```
sudo apt update && sudo apt install certbot python3-certbot-nginx
```

3.	**Получение сертификата**: далее в терминале нужно написать

```
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com
```

Certbot автоматически проверит владение доменом, получит и сохранит сертификат в пути «/etc/letsencrypt/live/yourdomain.com/», а также изменит конфигурацию виртуального хоста, добавив следующие директивы:

```
listen 443 ssl http2; 
ssl_certificate /etc/letsencrypt/live/yourdomain.com/fullchain.pem;
ssl_certificate_key /etc/letsencrypt/live/yourdomain.com/privkey.pem;
include /etc/letsencrypt/options-ssl-nginx.conf;
ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;
```

### 2.2.2 Установка на Windows-сервере IIS

В IIS сертификат можно:

Для операционной системы Windows процесс установки отличается из-за использования диспетчера служб IIS для получения сертификата. А конкретнее: 

* Можно получить сертификат от CA путем создания запроса, последующей отправкой CSR и получением самого файла сертификата, который нужно использовать для завершения запроса. После всех этих действий сертификат появится в списке и его можно будет привязать к сайту.
* Либо можно сгенерировать самоподписанный сертификат, также в IIS.

## 2.3 Настройка принудительного перенаправления с HTTP на HTTPS

Для безопасной работы веб-приложения критически важно настроить 301-редирект со всех HTTP-адресов на HTTPS, чтобы у пользователей и поисковых систем не было возможности обращаться к незащищенной версии протокола.

В самом веб-приложении необходимо обновить все внутренние абсолютные ссылки в коде на https:// и проверить, что все внешние ресурсы (скрипты, шрифты) также загружаются по HTTPS, иначе браузер покажет предупреждение о "смешанном содержании" (Mixed Content).

### 2.3.1 Настройка веб-приложения на Linux

Для Nginx создается отдельный блок server для порта 80:

```
server {
    listen 80;
    listen [::]:80;
    server_name yourdomain.com www.yourdomain.com;
    return 301 https://$server_name$request_uri;
}
```

### 2.3.2 Настройка веб-приложения на Windows

Для IIS же используется специальный модуль URL Rewrite, для чего необходимо:

1. Установить сам модуль через Web Platform Installer.
2. В диспетчере IIS выбрать сайт и перейти в «Правила URL-адресов».
3. Добавить новое правило. 
4. В условии вписать {HTTPS}.
5. В шаблоне вписать «^off$».
6. Выбрать действие «Перенаправление», в URL вписать https://{HTTP_HOST}{REQUEST_URI}, код: 301.

---

# 3. Дополнительные меры обеспечения безопасности и достижения оптимизации

В качестве дополнительных мер, которые можно принять для улучшения работы с сертификатом, можно принять:

1. Выбор современных протоколов и шифров: в некоторых случаях есть необходимость явно отключить устаревшие и небезопасные версии протоколов или шифров (например, SSLv2, SSLv3).
2. Включение HSTS (HTTP Strict Transport Security): благодаря этому сервер сообщает браузеру, что к сайту нужно обращаться только по HTTPS на протяжении длительного времени, что добавляет защиту от downgrade атак.
3. Настройка OCSP (Online Certificate Status Protocol) Stapling: это позволяет серверу кэшировать и предоставлять статус отзыва сертификата напрямую клиенту, что ускоряет "рукопожатие" и повышает приватность, так как клиенту не нужно обращаться к CA для проверки.

---

# 4. Особенности настройки

* Шифрование добавляет нагрузку на CPU сервера, поэтому нужно использовать аппаратное ускорение и современные версии SSL, чтобы улучшить скорость обработки.
* Проблема "смешанного содержания" (Mixed Content), заключающаяся в том, что браузер блокирует HTTP-ресурсы на HTTPS-странице, и чтобы решить данную проблему, необходимо использовать протокол-агностичные URL, скрипты для автоматического исправления ссылок или тщательный аудит кода.
* SSL-терминация часто происходит на крайнем сервере сети или балансировщике, поэтому сертификат нужно устанавливать именно там. Соединение между сетью серверов и исходным сервером также рекомендуется шифровать, используя отдельный сертификат для большей безопасности.
* Для предотвращения истечения срока действия сертификатов необходимо настроить мониторинг, чтобы своевременно его обновлять. Для этого есть специальные средства, которые могут автоматически следить за сертификатами. 

---

# Заключение

В ходе выполнения работы рассмотрен процесс получения и установки сертификата для работы веб-приложения на операционных системах Linux с использованием Nginx и Windows с использованием IIS. Современные инструменты, такие как Let's Encrypt и Certbot, делают данный процесс максимально простым, что положительно сказывается на обеспечении безопасности.

Полученные знания и навыки помогут в настройке и оптимизации создаваемых продуктов, так как настройка HTTPS стала обязательным аспектом любого веб-приложения, заботящегося о безопасности и конфиденциальности своих пользователей. Защита передаваемых данных повышает доверие со стороны клиентов, положительно влияет на SEO-ранжирование, потому что поисковые системы отдают предпочтение защищенным сайтам, и является требованием многих стандартов (например, PCI DSS для онлайн-платежей). 

---

# Список литературы

1. Let’s Encrypt Documentation [Электронный ресурс] // Let’s Encrypt – Режим доступа: [https://letsencrypt.org/docs/](https://letsencrypt.org/docs/), свободный. – Дата обращения: 17.12.2025.
2. Module ngx_http_ssl_module [Электронный ресурс] // Nginx. – Режим доступа: [https://nginx.org/en/docs/http/ngx_http_ssl_module.html](https://nginx.org/en/docs/http/ngx_http_ssl_module.html),  свободный. – Дата обращения: 17.12.2025.
3. Настройка SSL в IIS 7 или более поздней версии [Электронный ресурс] // Microsoft – Режим доступа: [https://learn.microsoft.com/ru-ru/iis/manage/configuring-security/how-to-set-up-ssl-on-iis](https://learn.microsoft.com/ru-ru/iis/manage/configuring-security/how-to-set-up-ssl-on-iis), свободный. – Дата обращения: 17.12.2025.
4. Certbot Documentation [Электронный ресурс] // Certbot – Режим доступа: [https://eff-certbot.readthedocs.io/en/stable/](https://eff-certbot.readthedocs.io/en/stable/), свободный. – Дата обращения: 17.12.2025.
5. OpenSSL Documentation [Электронный ресурс] // OpenSSL – Режим доступа: [https://docs.openssl.org/3.0/man7/migration_guide/](https://docs.openssl.org/3.0/man7/migration_guide/), свободный. – Дата обращения: 17.12.2025.
